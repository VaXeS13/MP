<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h3 mb-0">
      <i class="fas fa-store me-2"></i>
      {{ '::Menu:MyBooths' | abpLocalization }}
    </h2>
  </div>

  <!-- Search and Filters -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="filter" class="form-label">{{ '::Booth:SearchByNumber' | abpLocalization }}</label>
          <div class="input-group">
            <input
              type="text"
              id="filter"
              class="form-control"
              [placeholder]="'::Booth:EnterBoothNumber' | abpLocalization"
              [(ngModel)]="filter"
              (keyup.enter)="onSearch()">
            <button class="btn btn-outline-primary" type="button" (click)="onSearch()">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <div class="col-md-6 d-flex align-items-end">
          <button class="btn btn-secondary" type="button" (click)="filter = ''; onSearch()">
            <i class="fas fa-times me-2"></i>
            {{ '::Common:ClearFilter' | abpLocalization }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Booths Table -->
  <div class="card">
    <div class="card-body">
      <div *ngIf="loading" class="d-flex justify-content-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">{{ '::Common:Loading' | abpLocalization }}...</span>
        </div>
      </div>

      <div *ngIf="!loading && booths.length === 0" class="text-center py-5">
        <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
        <h5 class="text-muted">{{ '::Booth:NoBooths' | abpLocalization }}</h5>
        <p class="text-muted">{{ '::Booth:NoRentedBooths' | abpLocalization }}</p>
      </div>

      <div *ngIf="!loading && booths.length > 0" class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th>{{ '::Common:Number' | abpLocalization }}</th>
              <th>{{ '::Common:Status' | abpLocalization }}</th>
              <th>{{ '::Booth:PricePerDay' | abpLocalization }}</th>
              <th>{{ '::Booth:RentalPeriod' | abpLocalization }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let booth of booths">
              <td>
                <strong>{{ booth.number }}</strong>
              </td>
              <td>
                <span [class]="getStatusBadgeClass(booth.status)">
                  {{ getStatusDisplayName(booth.status) }}
                </span>
              </td>
              <td>
                <strong class="text-success">
                  {{ booth.pricePerDay | number:'1.2-2' }} {{ booth.currencyDisplayName }}
                </strong>
              </td>
              <td>
                <div *ngIf="booth.rentalStartDate && booth.rentalEndDate">
                  <small class="text-muted">
                    {{ booth.rentalStartDate | date:'short' }} -
                    {{ booth.rentalEndDate | date:'short' }}
                  </small>
                </div>
                <div *ngIf="!booth.rentalStartDate || !booth.rentalEndDate">
                  <small class="text-muted">{{ '::Booth:AvailableForRent' | abpLocalization }}</small>
                </div>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Pagination -->
        <div class="d-flex justify-content-between align-items-center mt-4" *ngIf="totalCount > pageSize">
          <div>
            <small class="text-muted">
              {{ '::Common:ShowingResults' | abpLocalization:((pageIndex * pageSize) + 1):getMaxDisplayed():totalCount }}
            </small>
          </div>
          <nav aria-label="Booths pagination">
            <ngb-pagination
              [(page)]="pageIndex"
              [pageSize]="pageSize"
              [collectionSize]="totalCount"
              [maxSize]="5"
              [rotate]="true"
              [boundaryLinks]="true"
              (pageChange)="onPageChange($event - 1)">
            </ngb-pagination>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>