<form [formGroup]="form">
  <div class="form-section">
    <h3>Basic Information</h3>

    <div class="form-group">
      <label>Unit Name *</label>
      <input
        pInputText
        type="text"
        formControlName="name"
        placeholder="Enter unit name"
        [class.ng-invalid]="hasError('name')"
        class="w-full"
      />
      <small class="error-message" *ngIf="hasError('name')">
        Unit name is required (max 200 characters)
      </small>
    </div>

    <div class="form-group">
      <label>Unit Code *</label>
      <div class="code-input-group">
        <input
          pInputText
          type="text"
          formControlName="code"
          placeholder="e.g., MAIN"
          [class.ng-invalid]="hasError('code')"
          class="flex-1"
        />
        <button pButton type="button" label="Generate" (click)="generateCode()" class="p-button-outlined" />
      </div>
      <small class="error-message" *ngIf="hasError('code')">
        Code is required (max 50 characters)
      </small>
    </div>

    <div class="form-row">
      <div class="form-group flex-1">
        <label>Email</label>
        <input
          pInputText
          type="email"
          formControlName="email"
          placeholder="unit@example.com"
          [class.ng-invalid]="hasError('email')"
          class="w-full"
        />
        <small class="error-message" *ngIf="hasError('email')">
          Please enter a valid email
        </small>
      </div>

      <div class="form-group flex-1">
        <label>Phone</label>
        <input
          pInputText
          type="tel"
          formControlName="phone"
          placeholder="+48 123 456 789"
          class="w-full"
        />
      </div>
    </div>
  </div>

  <div class="form-section">
    <h3>Location</h3>

    <div class="form-group">
      <label>Address</label>
      <input
        pInputText
        type="text"
        formControlName="address"
        placeholder="Street address"
        class="w-full"
      />
    </div>

    <div class="form-row">
      <div class="form-group flex-1">
        <label>City</label>
        <input
          pInputText
          type="text"
          formControlName="city"
          placeholder="City name"
          class="w-full"
        />
      </div>

      <div class="form-group flex-1">
        <label>Postal Code</label>
        <input
          pInputText
          type="text"
          formControlName="postalCode"
          placeholder="00-000"
          class="w-full"
        />
      </div>
    </div>
  </div>

  <div class="form-section">
    <h3>Status</h3>

    <div class="checkbox-group">
      <p-checkbox
        [(ngModel)]="form.get('isActive')!.value"
        [ngModelOptions]="{ standalone: true }"
        binary="true"
        label="Active"
      ></p-checkbox>
    </div>
  </div>

  <div class="dialog-footer">
    <button
      pButton
      type="button"
      label="Cancel"
      (click)="closeDialog()"
      class="p-button-text"
      [disabled]="isLoading"
    />
    <button
      pButton
      type="button"
      [label]="isEditMode ? 'Update' : 'Create'"
      (click)="submitForm()"
      [loading]="isLoading"
      [disabled]="!form.valid || isLoading"
    />
  </div>
</form>
